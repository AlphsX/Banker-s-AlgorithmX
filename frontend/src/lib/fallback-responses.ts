/**
 * Fallback Response System
 * Provides helpful responses when API fails
 */

export interface FallbackResponse {
  content: string;
  type: 'trending' | 'crypto' | 'weather' | 'news' | 'general';
  suggestions?: string[];
}

export class FallbackResponseGenerator {
  
  static generateResponse(query: string, error?: string): FallbackResponse {
    const queryLower = query.toLowerCase();
    
    // Trending/News queries
    if (this.isTrendingQuery(queryLower)) {
      return {
        type: 'trending',
        content: `à¸‚à¸­à¸­à¸ à¸±à¸¢à¸„à¸£à¸±à¸š à¸•à¸­à¸™à¸™à¸µà¹‰à¸œà¸¡à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¹„à¸”à¹‰ ğŸ“¡ 

à¹à¸•à¹ˆà¸œà¸¡à¹à¸™à¸°à¸™à¸³à¹à¸«à¸¥à¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸™à¹ˆà¸²à¹€à¸Šà¸·à¹ˆà¸­à¸–à¸·à¸­à¸ªà¸³à¸«à¸£à¸±à¸šà¸‚à¹ˆà¸²à¸§à¸ªà¸²à¸£à¸¥à¹ˆà¸²à¸ªà¸¸à¸”:

## ğŸ“° à¸‚à¹ˆà¸²à¸§à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ
- **TechCrunch** - à¸‚à¹ˆà¸²à¸§à¸ªà¸•à¸²à¸£à¹Œà¸—à¸­à¸±à¸à¹à¸¥à¸°à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ
- **The Verge** - à¸£à¸µà¸§à¸´à¸§à¹à¸¥à¸°à¸‚à¹ˆà¸²à¸§à¹€à¸—à¸„  
- **Wired** - à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¹à¸¥à¸°à¸§à¸´à¸—à¸¢à¸²à¸¨à¸²à¸ªà¸•à¸£à¹Œ

## ğŸ¤– AI & Machine Learning
- **OpenAI Blog** - à¸‚à¹ˆà¸²à¸§à¸ˆà¸²à¸ OpenAI
- **Google AI Blog** - à¸‡à¸²à¸™à¸§à¸´à¸ˆà¸±à¸¢ AI à¸ˆà¸²à¸ Google
- **Anthropic** - à¸‚à¹ˆà¸²à¸§à¹à¸¥à¸°à¸‡à¸²à¸™à¸§à¸´à¸ˆà¸±à¸¢ AI

## ğŸŒ Trending Topics
- **Twitter/X Trends** - à¸«à¸±à¸§à¸‚à¹‰à¸­à¸—à¸µà¹ˆà¸à¸³à¸¥à¸±à¸‡à¸®à¸´à¸•
- **Reddit Popular** - à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸„à¸™à¸à¸³à¸¥à¸±à¸‡à¸à¸¹à¸”à¸–à¸¶à¸‡
- **Google Trends** - à¸„à¸³à¸„à¹‰à¸™à¸«à¸²à¸¢à¸­à¸”à¸™à¸´à¸¢à¸¡

à¸¥à¸­à¸‡à¸–à¸²à¸¡à¸„à¸³à¸–à¸²à¸¡à¹€à¸‰à¸à¸²à¸°à¹€à¸ˆà¸²à¸°à¸ˆà¸‡à¸¡à¸²à¸à¸‚à¸¶à¹‰à¸™ à¹€à¸Šà¹ˆà¸™ "à¸­à¸˜à¸´à¸šà¸²à¸¢à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ AI à¸¥à¹ˆà¸²à¸ªà¸¸à¸”" à¹à¸—à¸™à¸™à¸°à¸„à¸£à¸±à¸š! ğŸ˜Š`,
        suggestions: [
          "à¸­à¸˜à¸´à¸šà¸²à¸¢à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ AI à¸¥à¹ˆà¸²à¸ªà¸¸à¸”",
          "à¹à¸™à¸§à¹‚à¸™à¹‰à¸¡à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¹ƒà¸™à¸­à¸™à¸²à¸„à¸•",
          "à¸à¸²à¸£à¸à¸±à¸’à¸™à¸² Machine Learning"
        ]
      };
    }
    
    // Crypto queries
    if (this.isCryptoQuery(queryLower)) {
      return {
        type: 'crypto',
        content: `à¸‚à¸­à¸­à¸ à¸±à¸¢à¸„à¸£à¸±à¸š à¸œà¸¡à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸«à¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¸²à¸„à¸² cryptocurrency à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¹„à¸”à¹‰ ğŸ’°

## ğŸ“ˆ à¹à¸«à¸¥à¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¸²à¸„à¸²à¹à¸¥à¸°à¸•à¸¥à¸²à¸”
- **CoinGecko** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸„à¸£à¸šà¸–à¹‰à¸§à¸™
- **CoinMarketCap** - à¸£à¸²à¸„à¸²à¹à¸¥à¸°à¸ªà¸–à¸´à¸•à¸´  
- **Binance** - à¸£à¸²à¸„à¸²à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ

## ğŸ” à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ
- **TradingView** - à¸à¸£à¸²à¸Ÿà¹à¸¥à¸°à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ
- **CryptoCompare** - à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¸£à¸²à¸„à¸²
- **Messari** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸Šà¸´à¸‡à¸¥à¸¶à¸

## ğŸ’¡ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹ˆà¸§à¹„à¸›
- **CoinDesk** - à¸‚à¹ˆà¸²à¸§à¹à¸¥à¸°à¸šà¸—à¸„à¸§à¸²à¸¡
- **Cointelegraph** - à¸‚à¹ˆà¸²à¸§ crypto

à¸¥à¸­à¸‡à¸–à¸²à¸¡à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ blockchain à¸«à¸£à¸·à¸­à¹à¸™à¸§à¸„à¸´à¸”à¹€à¸šà¸·à¹‰à¸­à¸‡à¸«à¸¥à¸±à¸‡ crypto à¹à¸—à¸™à¸™à¸°à¸„à¸£à¸±à¸š! ğŸš€`,
        suggestions: [
          "à¸­à¸˜à¸´à¸šà¸²à¸¢à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ blockchain",
          "à¸„à¸§à¸²à¸¡à¹à¸•à¸à¸•à¹ˆà¸²à¸‡à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡ Bitcoin à¹à¸¥à¸° Ethereum", 
          "à¸­à¸™à¸²à¸„à¸•à¸‚à¸­à¸‡ cryptocurrency"
        ]
      };
    }
    
    // Weather queries
    if (this.isWeatherQuery(queryLower)) {
      return {
        type: 'weather',
        content: `à¸‚à¸­à¸­à¸ à¸±à¸¢à¸„à¸£à¸±à¸š à¸œà¸¡à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸«à¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸ à¸²à¸à¸­à¸²à¸à¸²à¸¨à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¹„à¸”à¹‰ ğŸŒ¤ï¸

## ğŸŒ¦ï¸ à¸ªà¸³à¸«à¸£à¸±à¸šà¸›à¸£à¸°à¹€à¸—à¸¨à¹„à¸—à¸¢
- **à¸à¸£à¸¡à¸­à¸¸à¸•à¸¸à¸™à¸´à¸¢à¸¡à¸§à¸´à¸—à¸¢à¸²** - tmd.go.th
- **Weather.com** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹‚à¸¥à¸
- **AccuWeather** - à¸à¸¢à¸²à¸à¸£à¸“à¹Œà¹à¸¡à¹ˆà¸™à¸¢à¸³

## ğŸ“± à¹à¸­à¸›à¸¡à¸·à¸­à¸–à¸·à¸­à¹à¸™à¸°à¸™à¸³
- **Weather** (iOS/Android)
- **AccuWeather App**
- **Weather Underground**

à¸¥à¸­à¸‡à¸–à¸²à¸¡à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¸ªà¸ à¸²à¸à¸ à¸¹à¸¡à¸´à¸­à¸²à¸à¸²à¸¨à¸«à¸£à¸·à¸­à¸›à¸£à¸²à¸à¸à¸à¸²à¸£à¸“à¹Œà¸—à¸²à¸‡à¸­à¸¸à¸•à¸¸à¸™à¸´à¸¢à¸¡à¸§à¸´à¸—à¸¢à¸²à¹à¸—à¸™à¸™à¸°à¸„à¸£à¸±à¸š! ğŸŒ`,
        suggestions: [
          "à¸­à¸˜à¸´à¸šà¸²à¸¢à¸à¸²à¸£à¹€à¸à¸´à¸”à¸à¸²à¸¢à¸¸",
          "à¸›à¸£à¸²à¸à¸à¸à¸²à¸£à¸“à¹Œà¹€à¸­à¸¥à¸™à¸µà¹‚à¸à¹ˆà¸„à¸·à¸­à¸­à¸°à¹„à¸£",
          "à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡à¸ªà¸ à¸²à¸à¸ à¸¹à¸¡à¸´à¸­à¸²à¸à¸²à¸¨"
        ]
      };
    }
    
    // General fallback
    return {
      type: 'general',
      content: `à¸‚à¸­à¸­à¸ à¸±à¸¢à¸„à¸£à¸±à¸š à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¸„à¸³à¸–à¸²à¸¡à¸‚à¸­à¸‡à¸„à¸¸à¸“ ğŸ˜…

## ğŸ’¡ à¹€à¸„à¸¥à¹‡à¸”à¸¥à¸±à¸šà¸à¸²à¸£à¸–à¸²à¸¡à¸„à¸³à¸–à¸²à¸¡:
- à¹ƒà¸Šà¹‰à¸›à¸£à¸°à¹‚à¸¢à¸„à¸—à¸µà¹ˆà¸Šà¸±à¸”à¹€à¸ˆà¸™à¹à¸¥à¸°à¹€à¸‰à¸à¸²à¸°à¹€à¸ˆà¸²à¸°à¸ˆà¸‡
- à¸«à¸¥à¸µà¸à¹€à¸¥à¸µà¹ˆà¸¢à¸‡à¸„à¸³à¸–à¸²à¸¡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ  
- à¸¥à¸­à¸‡à¹à¸šà¹ˆà¸‡à¸„à¸³à¸–à¸²à¸¡à¸‹à¸±à¸šà¸‹à¹‰à¸­à¸™à¸­à¸­à¸à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸¢à¹ˆà¸­à¸¢à¹†

## ğŸš€ à¸œà¸¡à¸Šà¹ˆà¸§à¸¢à¹„à¸”à¹‰à¹ƒà¸™à¹€à¸£à¸·à¹ˆà¸­à¸‡:
- à¸­à¸˜à¸´à¸šà¸²à¸¢à¹à¸™à¸§à¸„à¸´à¸”à¹à¸¥à¸°à¸—à¸¤à¸©à¸à¸µ
- à¹ƒà¸«à¹‰à¸„à¸³à¹à¸™à¸°à¸™à¸³à¹à¸¥à¸°à¸‚à¹‰à¸­à¹€à¸ªà¸™à¸­à¹à¸™à¸°
- à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¹à¸¥à¸°à¸ªà¸£à¸¸à¸›à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
- à¹€à¸‚à¸µà¸¢à¸™à¹à¸¥à¸°à¹à¸à¹‰à¹„à¸‚à¹€à¸™à¸·à¹‰à¸­à¸«à¸²

à¸¥à¸­à¸‡à¸–à¸²à¸¡à¹ƒà¸«à¸¡à¹ˆà¸”à¹‰à¸§à¸¢à¸£à¸¹à¸›à¹à¸šà¸šà¸—à¸µà¹ˆà¸•à¹ˆà¸²à¸‡à¸­à¸­à¸à¹„à¸›à¸™à¸°à¸„à¸£à¸±à¸š! ğŸ˜Š`,
      suggestions: [
        "à¸­à¸˜à¸´à¸šà¸²à¸¢à¸«à¸±à¸§à¸‚à¹‰à¸­à¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ",
        "à¸‚à¸­à¸„à¸³à¹à¸™à¸°à¸™à¸³à¹ƒà¸™à¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰",
        "à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸¡à¸µ"
      ]
    };
  }
  
  private static isTrendingQuery(query: string): boolean {
    const trendingKeywords = [
      'trending', 'trend', 'popular', 'viral', 'hot',
      'latest', 'recent', 'current', 'now', 'today',
      'news', 'breaking', 'update', 'happening',
      'what\'s new', 'what is trending', 'what\'s hot'
    ];
    
    return trendingKeywords.some(keyword => query.includes(keyword));
  }
  
  private static isCryptoQuery(query: string): boolean {
    const cryptoKeywords = [
      'bitcoin', 'btc', 'ethereum', 'eth', 'crypto', 'cryptocurrency',
      'price', 'market', 'trading', 'coin', 'token', 'blockchain',
      'dogecoin', 'ada', 'solana', 'binance', 'coinbase'
    ];
    
    return cryptoKeywords.some(keyword => query.includes(keyword));
  }
  
  private static isWeatherQuery(query: string): boolean {
    const weatherKeywords = [
      'weather', 'temperature', 'rain', 'sunny', 'cloudy',
      'forecast', 'climate', 'hot', 'cold', 'storm',
      'humidity', 'wind', 'snow', 'fog'
    ];
    
    return weatherKeywords.some(keyword => query.includes(keyword));
  }
  
  static getRandomEncouragement(): string {
    const encouragements = [
      "à¸¥à¸­à¸‡à¸–à¸²à¸¡à¹ƒà¸«à¸¡à¹ˆà¸™à¸°à¸„à¸£à¸±à¸š! ğŸ˜Š",
      "à¸œà¸¡à¸à¸£à¹‰à¸­à¸¡à¸Šà¹ˆà¸§à¸¢à¹€à¸«à¸¥à¸·à¸­à¸„à¸¸à¸“! ğŸš€", 
      "à¸¡à¸µà¸„à¸³à¸–à¸²à¸¡à¸­à¸·à¹ˆà¸™à¹„à¸«à¸¡à¸„à¸£à¸±à¸š? ğŸ’«",
      "à¸¥à¸­à¸‡à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸£à¸¹à¸›à¹à¸šà¸šà¸„à¸³à¸–à¸²à¸¡à¸”à¸¹à¸„à¸£à¸±à¸š! ğŸ”„",
      "à¸œà¸¡à¸­à¸¢à¸¹à¹ˆà¸—à¸µà¹ˆà¸™à¸µà¹ˆà¹€à¸à¸·à¹ˆà¸­à¸Šà¹ˆà¸§à¸¢à¸„à¸¸à¸“! ğŸ’ª"
    ];
    
    return encouragements[Math.floor(Math.random() * encouragements.length)];
  }
}

export default FallbackResponseGenerator;